VIX - SP100 relation
VIX mean chart
VIX tango
VIX-VIX put strategy
VIX,XIV,VXX,UVXX
NDX-gold,oil,VIX, relation

library("quantmod", lib.loc="~/R/x86_64-pc-linux-gnu-library/3.2")
getSymbols("^NDX")
getSymbols("^OEX")
getSymbols("^RUI")
getSymbols("^GSPC")
getSymbols("^IXIC")
getSymbols("^SML")
getSymbols("^RUA")
getSymbols("SPY")

getSymbols("^FTSE")
getSymbols("^FCHI")
getSymbols("^GDAXI")
getSymbols("^HSI")
getSymbols("^N225")
getSymbols("^NSEI")


getSymbols("^VIX")
getSymbols("^VXN")
getSymbols("VXX")
getSymbols("XIV")
getSymbols("UVXY")
getSymbols("^VVIX")

getSymbols("^OVX")
getSymbols("OIL")
getSymbols("USO")

getSymbols("^GVZ")
getSymbols("GLD")
getSymbols("GDX")
getSymbols("UGLD")
getSymbols("DGLD")

getSymbols("^TYX")
getSymbols("TLT")
getSymbols("SST")
getSymbols("PRTBX")

getSymbols("XLE")
getSymbols("XLF")
getSymbols("XLK")
getSymbols("XBI")
getSymbols("XLP")
getSymbols("XLV")
getSymbols("XLU")
getSymbols("XLB")
getSymbols("XLY")
getSymbols("XME")
getSymbols("XLI")

getSymbols("SQQQ")
getSymbols("TQQQ")

getSymbols("FXI")
getSymbols("FWZ")

getSymbols("JPY=X")
getSymbols("EUR=X")
getSymbols("CNY=X")
getSymbols("CAD=X")
getSymbols("GBP=X")

cor(GSPC[,4],VIX[,4])#-65%
cor(GSPC[5:length(GSPC[,4]),4],HSI[,4])#64%
cor(GSPC[,4],FTSE[70:length(FTSE[,4]),4])#84%
summary(NDX["2015"][,4])# TQQQ call short when NDX>4550 and SQQQ call short when NDX<4300
summary(VIX["2015"][,4])# VIX and GSPC has -65% relation and 1st Q to Match 4th quartile, NDX>4500::VIX<18 and NDX<4300::VIX>30
test$Return<-ROC(GSPC[,4])
test$ChD<-ifelse(test[,2]>0,1,0)
for(i in 1:length(test[,1])){test$S6[i]<-ifelse(test[i,1]>test[i-1,1] && test[i-1,1]>test[i-2,1] && test[i-2,1]>test[i-3,1] && test[i-3,1]>test[i-4,1] && test[i-4,1]>test[i-5,1] && test[i-5,1]>test[i-6,1] ,1,0)}
for(i in 1:length(test[,1])){test$S7[i]<-ifelse(test[i,1]>test[i-1,1] && test[i-1,1]>test[i-2,1] && test[i-2,1]>test[i-3,1] && test[i-3,1]>test[i-4,1] && test[i-4,1]>test[i-5,1] && test[i-5,1]>test[i-6,1] && test[i-6,1]>test[i-7,1] ,1,0)}
for(i in 1:length(test[,1])){test$S8[i]<-ifelse(test[i,1]>test[i-1,1] && test[i-1,1]>test[i-2,1] && test[i-2,1]>test[i-3,1] && test[i-3,1]>test[i-4,1] && test[i-4,1]>test[i-5,1] && test[i-5,1]>test[i-6,1] && test[i-6,1]>test[i-7,1] && test[i-7,1]>test[i-8,1] ,1,0)}
for(i in 1:length(test[,1])){test$S5[i]<-ifelse(test[i,1]>test[i-1,1] && test[i-1,1]>test[i-2,1] && test[i-2,1]>test[i-3,1] && test[i-3,1]>test[i-4,1] && test[i-4,1]>test[i-5,1] ,1,0)}
for(i in 1:length(test[,1])){test$S4[i]<-ifelse(test[i,1]>test[i-1,1] && test[i-1,1]>test[i-2,1] && test[i-2,1]>test[i-3,1] && test[i-3,1]>test[i-4,1] ,1,0)}
for(i in 1:length(test[,1])){test$S3[i]<-ifelse(test[i,1]>test[i-1,1] && test[i-1,1]>test[i-2,1] && test[i-2,1]>test[i-3,1] ,1,0)}
for(i in 1:length(test[,1])){test$S2[i]<-ifelse(test[i,1]>test[i-1,1] && test[i-1,1]>test[i-2,1] ,1,0)}
for(i in 1:length(test[,1])){test$S6[i]<-ifelse(test[i,1]>test[i-1,1] && test[i-1,1]>test[i-2,1] && test[i-2,1]>test[i-3,1] && test[i-3,1]>test[i-4,1] && test[i-4,1]>test[i-5,1] && test[i-5,1]>test[i-6,1] ,1,0)}

for(i in 1:length(test[,1])){test$SD2[i]<-ifelse(test[i,1]<test[i-1,1] && test[i-1,1]<test[i-2,1],1,0)}
for(i in 1:length(test[,1])){test$SD3[i]<-ifelse(test[i,1]<test[i-1,1] && test[i-1,1]<test[i-2,1] && test[i-2,1]<test[i-3,1],1,0)}
for(i in 1:length(test[,1])){test$SD4[i]<-ifelse(test[i,1]<test[i-1,1] && test[i-1,1]<test[i-2,1] && test[i-2,1]<test[i-3,1] && test[i-3,1]<test[i-4,1],1,0)}
for(i in 1:length(test[,1])){test$SD5[i]<-ifelse(test[i,1]<test[i-1,1] && test[i-1,1]<test[i-2,1] && test[i-2,1]<test[i-3,1] && test[i-3,1]<test[i-4,1] && test[i-4,1]<test[i-5,1],1,0)}
for(i in 1:length(test[,1])){test$SD6[i]<-ifelse(test[i,1]<test[i-1,1] && test[i-1,1]<test[i-2,1] && test[i-2,1]<test[i-3,1] && test[i-3,1]<test[i-4,1] && test[i-4,1]<test[i-5,1] && test[i-5,1]<test[i-6,1],1,0)}
for(i in 1:length(test[,1])){test$SD7[i]<-ifelse(test[i,1]<test[i-1,1] && test[i-1,1]<test[i-2,1] && test[i-2,1]<test[i-3,1] && test[i-3,1]<test[i-4,1] && test[i-4,1]<test[i-5,1] && test[i-5,1]<test[i-6,1] && test[i-6,1]<test[i-7,1],1,0)}
for(i in 1:length(test[,1])){test$SD8[i]<-ifelse(test[i,1]<test[i-1,1] && test[i-1,1]<test[i-2,1] && test[i-2,1]<test[i-3,1] && test[i-3,1]<test[i-4,1] && test[i-4,1]<test[i-5,1] && test[i-5,1]<test[i-6,1] && test[i-6,1]<test[i-7,1] && test[i-7,1]<test[i-8,1] ,1,0)}

for(i in 1:length(test[,1])){test$D3[i]<-ifelse(test[i,2]<0 && test[i-1,2]<0 && test[i-2,2]<0,1,0)}
for(i in 1:length(test[,1])){test$D4[i]<-ifelse(test[i,2]<0 && test[i-1,2]<0 && test[i-2,2]<0 && test[i-3,2]<0,1,0)}
for(i in 1:length(test[,1])){test$D5[i]<-ifelse(test[i,2]<0 && test[i-1,2]<0 && test[i-2,2]<0 && test[i-3,2]<0 && test[i-4,2]<0,1,0)}
for(i in 1:length(test[,1])){test$D6[i]<-ifelse(test[i,2]<0 && test[i-1,2]<0 && test[i-2,2]<0 && test[i-3,2]<0 && test[i-4,2]<0 && test[i-5,2]<0,1,0)}
for(i in 1:length(test[,1])){test$D7[i]<-ifelse(test[i,2]<0 && test[i-1,2]<0 && test[i-2,2]<0 && test[i-3,2]<0 && test[i-4,2]<0 && test[i-5,2]<0 && test[i-6,2]<0,1,0)}

for(i in 1:length(test[,1])){test$U5[i]<-ifelse(test[i,2]>0 && test[i-1,2]>0 && test[i-2,2]>0 && test[i-3,2]>0 && test[i-4,2]>0,1,0)}
## 3.5% probablity of 4 consicutive negative days and 3% probablity of 5 consicutive positive days. positive consicutive days have higher probablity
for(i in 1:length(test[,1])){test$JD[i]<-ifelse(test[i,2]<(-0.01),1,0)}#(4% probablity of 2.5% down,17.5% probablity of 1% jump down)
for(i in 1:length(test[,1])){test$JU[i]<-ifelse(test[i,2]>0.015,1,0)}#4% probablity of 2.2% up in a day,8.5% probablity for 1.5% up 
for(i in 1:length(test[,1])){test$JUu1[i]<-ifelse(test$JU[i]==1 && test[i+1,3]==1 ,1,0)}#jump up and positive next day (2.2% jump up and next day up 2%) ((2.2% jump up and next 2 days up 1%)
for(i in 1:length(test[,1])){test$JUu2[i]<-ifelse(test$JU[i]==1 && test[i+1,3]==1 && test[i+2,3]==1 ,1,0)}#(8% jump 1.5%,4% continuing next day and 2% next 2 days)
for(i in 1:length(test[,1])){test$JDd1[i]<-ifelse(test$JD[i]==1 && test[i+1,3]==0 ,1,0)}
for(i in 1:length(test[,1])){test$JDd2[i]<-ifelse(test$JD[i]==1 && test[i+1,3]==0 && test[i+2,3]==0,1,0)}(1% jump down 17.5% probablity,2.8% to be down for next two days)
#H:: 1% jump down and if down for next 2 days (jump down,D,D) then sixith day up(JD,D,D,D,D,D,U) 
#H:: 1.5% jump up and if up for next 2 days ( jump up,U,U) then sixth day down(JU,U,U,U,U,D)


